<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>BitBin - TotalCode</title>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background-color: #1e1e1e;
      color: #fff;
    }

    h1 {
      color: #66d9ef;
    }

    textarea {
      width: 100%;
      height: 300px;
      font-family: monospace;
      font-size: 14px;
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      background-color: #2d2d2d;
      color: #f8f8f2;
      border: none;
      resize: vertical;
    }

    button {
      margin-top: 1rem;
      padding: 0.5rem 1.5rem;
      background-color: #66d9ef;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button.reset {
      background-color: #ff5555;
      margin-left: 1rem;
    }

    pre {
      padding: 1rem;
      background-color: #2d2d2d;
      border-radius: 8px;
      overflow-x: auto;
      margin-top: 2rem;
    }
  </style>
</head>
<body>

<h1>BitBin - Share code with style âœ¨</h1>

<textarea id="codeInput" placeholder="Paste your code here..."></textarea>
<br>
<button onclick="highlightCode()">Show with highlighting</button>
<button class="reset" onclick="resetCode()">Reset</button>

<h2>Result:</h2>
<pre id="outputCode"><code class="hljs"></code></pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/php.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>

<script>
  // Check if code is stored in localStorage when the page loads
  window.onload = function() {
    const savedCode = localStorage.getItem('savedCode');
    if (savedCode) {
      document.getElementById('codeInput').value = savedCode;
      highlightCode(); // Highlight the code if it comes from localStorage
    }
  };

  function highlightCode() {
    const code = document.getElementById('codeInput').value;
    const output = document.getElementById('outputCode');

    // Create a new code element
    const newCode = document.createElement('code');
    newCode.textContent = code;
    newCode.className = 'hljs'; // Apply Highlight.js style

    // Append the new code block to <pre>
    output.innerHTML = ''; // Clear previous content
    output.appendChild(newCode);

    // Let Highlight.js automatically detect the language
    hljs.highlightElement(newCode);

    // Save the code to localStorage
    localStorage.setItem('savedCode', code);
  }

  // Reset the textarea and remove the code from localStorage
  function resetCode() {
    document.getElementById('codeInput').value = '';
    document.getElementById('outputCode').innerHTML = '<code class="hljs"></code>';
    localStorage.removeItem('savedCode'); // Remove code from localStorage
  }
</script>

</body>
</html>